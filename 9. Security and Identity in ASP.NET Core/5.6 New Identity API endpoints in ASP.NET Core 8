New Identity API endpoints in ASP.NET Core 8:

-  ASP.NET Core 8.0 introduces a new set of features to simplify authentication for web APIs. In this
    section, we will introduce these new endpoints.
- Note that this new feature is only for simple authentication scenarios. 
- The token generated by the Identity API endpoint is opaque, not a JWT token, which means it is
    intended to beused by the same application only.
- In ASP.NET Core 8.0, we can use a new MapIdentityApi() method to map the Identity API endpoints without
    writing any implementation as we did in the previous sections.

A) create a sample project with authentication and authjroization. Repeat A) to C) from section 2.

B) Add the authorization policy service and register DbContext in the Program file.

    builder.Services.AddAuthorization();
    builder.Services.AddDbContext<AppDbContext>();

C) Create the database and migration.

    dotnet ef migrations add InitialDb
    dotnet ef database update

D) Register the Identity API endpoint in the Program file.

    builder.Services.AddIdentityApiEndpoints<AppUser>()
        .AddEntityFrameworkStores<AppDbContext>();

    -> AddIdentityApiEndpoints() method adds a set of common identity services to the application by
        by callling the AddIdentityCore<TUser>() method. undert the hood.
    -> it also configures authentication to support identity bearer tokens and cookies, so we do not
        need to explicitly call the AddIdentityCore<AppUser>() method like in other demo application.

E) map the Identity API endpoints in the Program file as:

    app.MapGroup("/identity").MapIdentityApi<AppUser>();

    -> this this maps the Identity API endpoints to the /identity path.
    -> note that as we use an AppUser instead of the default IdentityUser, we must specify the AppUser
        type in the MapIdentityApi() method.

F) Apply the [Authorize] attribute to the WeatherForecastController class

G) Now if we 'dotnet watch run' we will be able to see all the endpoints such as: (see in postman)

        POST
        /identity/register

        POST
        /identity/login

        POST
        /identity/refresh

        GET
        /identity/confirmEmail

        POST
        /identity/resendConfirmationEmail

        POST
        /identity/forgotPassword

        POST
        /identity/resetPassword

        POST
        /identity/manage/2fa

        GET
        /identity/manage/info

        POST
        /identity/manage/info